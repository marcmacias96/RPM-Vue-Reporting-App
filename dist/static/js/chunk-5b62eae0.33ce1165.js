(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b62eae0"],{"0ccb":function(e,t,a){var r=a("50c4"),i=a("1148"),n=a("1d80"),o=Math.ceil,s=function(e){return function(t,a,s){var l,u,c=String(n(t)),d=c.length,f=void 0===s?" ":String(s),p=r(a);return p<=d||""==f?c:(l=p-d,u=i.call(f,o(l/f.length)),u.length>l&&(u=u.slice(0,l)),e?c+u:u+c)}};e.exports={start:s(!1),end:s(!0)}},1148:function(e,t,a){"use strict";var r=a("a691"),i=a("1d80");e.exports="".repeat||function(e){var t=String(i(this)),a="",n=r(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(a+=t);return a}},"13d5":function(e,t,a){"use strict";var r=a("23e7"),i=a("d58f").left,n=a("a640"),o=a("ae40"),s=n("reduce"),l=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2af4":function(e,t,a){},"333d":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},i=[];a("a9e3");Math.easeInOutQuad=function(e,t,a,r){return e/=r/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(e,t,a){var r=s(),i=e-r,l=20,u=0;t="undefined"===typeof t?500:t;var c=function e(){u+=l;var s=Math.easeInOutQuad(u,r,i,t);o(s),u<t?n(e):a&&"function"===typeof a&&a()};c()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&l(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&l(0,800)}}},c=u,d=(a("516b"),a("2877")),f=Object(d["a"])(c,r,i,!1,null,"cfc1914e",null);t["a"]=f.exports},"373d":function(e,t,a){},"4d90":function(e,t,a){"use strict";var r=a("23e7"),i=a("0ccb").start,n=a("9a0c");r({target:"String",proto:!0,forced:n},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"516b":function(e,t,a){"use strict";var r=a("2af4"),i=a.n(r);i.a},8785:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("fb6a"),a("dca8");function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},"9a0c":function(e,t,a){var r=a("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},a434:function(e,t,a){"use strict";var r=a("23e7"),i=a("23cb"),n=a("a691"),o=a("50c4"),s=a("7b0b"),l=a("65f0"),u=a("8418"),c=a("1dde"),d=a("ae40"),f=c("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min,g=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var a,r,c,d,f,p,b=s(this),v=o(b.length),w=i(e,v),F=arguments.length;if(0===F?a=r=0:1===F?(a=0,r=v-w):(a=F-2,r=m(h(n(t),0),v-w)),v+a-r>g)throw TypeError(y);for(c=l(b,r),d=0;d<r;d++)f=w+d,f in b&&u(c,d,b[f]);if(c.length=r,a<r){for(d=w;d<v-r;d++)f=d+r,p=d+a,f in b?b[p]=b[f]:delete b[p];for(d=v;d>v-r+a;d--)delete b[d-1]}else if(a>r)for(d=v-r;d>w;d--)f=d+r-1,p=d+a-1,f in b?b[p]=b[f]:delete b[p];for(d=0;d<a;d++)b[d+w]=arguments[d+2];return b.length=v-r+a,c}})},a9e3:function(e,t,a){"use strict";var r=a("83ab"),i=a("da84"),n=a("94ca"),o=a("6eeb"),s=a("5135"),l=a("c6b6"),u=a("7156"),c=a("c04e"),d=a("d039"),f=a("7c73"),p=a("241c").f,h=a("06cf").f,m=a("9bf2").f,g=a("58a8").trim,y="Number",b=i[y],v=b.prototype,w=l(f(v))==y,F=function(e){var t,a,r,i,n,o,s,l,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=g(u),t=u.charCodeAt(0),43===t||45===t){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(n=u.slice(2),o=n.length,s=0;s<o;s++)if(l=n.charCodeAt(s),l<48||l>i)return NaN;return parseInt(n,r)}return+u};if(n(y,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var C,_=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof _&&(w?d((function(){v.valueOf.call(a)})):l(a)!=y)?u(new b(F(t)),a,_):F(t)},k=r?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;k.length>S;S++)s(b,C=k[S])&&!s(_,C)&&m(_,C,h(b,C));_.prototype=v,v.constructor=_,o(i,y,_)}},bb2f:function(e,t,a){var r=a("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bfbf:function(e,t,a){"use strict";var r=a("373d"),i=a.n(r);i.a},d22f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"-","start-placeholder":"Fecha Inicio","end-placeholder":"Fecha Fin",align:"right","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.listQuery.fechas,callback:function(t){e.$set(e.listQuery,"fechas",t)},expression:"listQuery.fechas"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"Nro Comprobante"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"Usuario"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.user,callback:function(t){e.$set(e.listQuery,"user",t)},expression:"listQuery.user"}}),a("el-select",{attrs:{placeholder:"Tipo Reporte"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.repOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})})),1),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" Search ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:e.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:e.getAllRows}},[e._v(" Exportar ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"total-container",attrs:{type:"info"}},[e._v(" Total Recaudado $ "+e._s(e.formatPrice(e.total))+" ")])],1),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.rep_comprobantes,border:"",fit:"",height:"550","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"Comprobante",width:"150px",prop:"ProformaFactura.NroFactura",align:"center"}}),a("el-table-column",{attrs:{label:"Fecha-Hora",width:"120px",prop:"ProformaFactura.FacturadoEn",align:"center"}}),a("el-table-column",{attrs:{label:"Cedula",width:"130px",prop:"ProformaFactura.clienteByCliente.CedRuc",align:"center"}}),a("el-table-column",{attrs:{label:"Contribuyente","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.ProformaFactura.clienteByCliente.Nombres))]),a("span",[e._v(e._s(r.ProformaFactura.clienteByCliente.Apellidos))]),a("span",[e._v(e._s(r.ProformaFactura.clienteByCliente.NombreEmpresa))])]}}])}),a("el-table-column",{attrs:{label:"Facturado Por","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.ProformaFactura.usuarioByCreadopor.Nombres))]),a("span",[e._v(e._s(r.ProformaFactura.usuarioByCreadopor.Apellidos))])]}}])}),a("el-table-column",{attrs:{label:"Cantidad",width:"90px",prop:"CantidadFactura",align:"center"}}),a("el-table-column",{attrs:{label:"Descuento",width:"100px",prop:"Dscto",align:"center"}}),a("el-table-column",{attrs:{label:"Valor Unitario",width:"120px",prop:"ValorUnitario",align:"center"}}),a("el-table-column",{attrs:{label:"IVA",width:"90px",prop:"Impuesto",align:"center"}}),a("el-table-column",{attrs:{label:"Total",width:"90px",prop:"Total",align:"center"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.listQuery.total>0,expression:"listQuery.total>0"}],attrs:{total:e.listQuery.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.handleFilter}})],1)])},i=[],n=(a("d81d"),a("13d5"),a("a434"),a("b680"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("6724")),o=a("ed08"),s=a("754d"),l=a("333d"),u=[{key:"CN",display_name:"China"},{key:"US",display_name:"USA"},{key:"JP",display_name:"Japan"},{key:"EU",display_name:"Eurozone"}],c=u.reduce((function(e,t){return e[t.key]=t.display_name,e}),{}),d={name:"ComplexTable",directives:{waves:n["a"]},components:{Pagination:l["a"]},filters:{statusFilter:function(e){var t={published:"success",draft:"info",deleted:"danger"};return t[e]},typeFilter:function(e){return c[e]}},data:function(){return{selected:"",tableKey:0,rep_comprobantes:[],rep_export_all:[],listLoading:!1,total:0,listQuery:{user:"",total:0,page:1,limit:10,offset:0,title:"",type:void 0,sort:"",fechas:null},importanceOptions:[1,2,3],calendarTypeOptions:u,repOptions:[{label:"Comprobante",key:"NC"},{label:"Nota Crédito",key:"CP"}],statusOptions:["published","draft","deleted"],showReviewer:!1,temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},downloadLoading:!1}},methods:{handleFilter:function(){var e=this;if(null!=this.listQuery.fechas){this.listLoading=!0;var t="%"+this.listQuery.title+"%",a="%"+this.selected+"%",r="%"+this.listQuery.user+"%";this.listQuery.offset=(this.listQuery.page-1)*this.listQuery.limit,this.$apollo.query({query:s["a"],variables:{fechaInicio:this.listQuery.fechas[0],fechaFin:this.listQuery.fechas[1],factura:t,tipo:a,offset:this.listQuery.offset,limit:this.listQuery.limit,usuario:r},error:function(e){this.error=JSON.stringify(e.message)}}).then((function(t){e.total=t.data.ProformaFacturaDetalle_aggregate.aggregate.sum.Total,e.rep_comprobantes=t.data.ProformaFacturaDetalle,e.listQuery.total=t.data.ProformaFacturaDetalle_aggregate.aggregate.Total,e.listLoading=!1}))}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},sortChange:function(e){var t=e.prop,a=e.order;"id"===t&&this.sortByID(a)},sortByID:function(e){this.listQuery.sort="ascending"===e?"+id":"-id",this.handleFilter()},resetTemp:function(){this.temp={id:void 0,importance:1,remark:"",timestamp:new Date,title:"",status:"published",type:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},handleUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.temp.timestamp=new Date(this.temp.timestamp),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},handleDelete:function(e,t){this.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),this.rep_comprobantes.splice(t,1)},getAllRows:function(){var e=this;if(null!=this.listQuery.fechas){this.listLoading=!0;var t="%"+this.listQuery.title+"%",a="%"+this.selected+"%",r="%"+this.listQuery.user+"%";this.listQuery.offset=(this.listQuery.page-1)*this.listQuery.limit,this.$apollo.query({query:s["a"],variables:{fechaInicio:this.listQuery.fechas[0],fechaFin:this.listQuery.fechas[1],factura:t,tipo:a,offset:0,limit:this.listQuery.total,usuario:r},error:function(e){this.error=JSON.stringify(e.message)}}).then((function(t){e.rep_export_all=t.data.ProformaFacturaDetalle,e.listLoading=!1,e.handleDownload()}))}},handleDownload:function(){var e=this;this.downloadLoading=!0,Promise.all([a.e("chunk-12076b3a"),a.e("chunk-2133cd4f")]).then(a.bind(null,"4bf8")).then((function(t){var a=["Comprobante","Fecha-Hora","Cedula","Contribuyente","Facturado Por","Cantidad","Descuento","Valor Unitario","IVA","Total"],r=["comprobante","date","ID","contributor","InvoicedBy","quantity","discount","unitValue","IVA","total"],i=e.rep_export_all.map((function(e){return{comprobante:e.ProformaFactura.NroFactura,date:e.ProformaFactura.FacturadoEn,ID:e.ProformaFactura.clienteByCliente.CedRuc,contributor:e.ProformaFactura.clienteByCliente.Nombres+" "+e.ProformaFactura.clienteByCliente.Apellidos+e.ProformaFactura.clienteByCliente.NombreEmpresa,InvoicedBy:e.ProformaFactura.usuarioByCreadopor.Nombres+" "+e.ProformaFactura.usuarioByCreadopor.Apellidos,quantity:e.CantidadFactura,discount:e.Dscto,unitValue:e.ValorUnitario,IVA:e.Impuesto,total:e.Total}})),n=e.formatJson(r,i);t.export_json_to_excel({header:a,data:n,filename:"Reporte-caja-comprobantes"}),e.downloadLoading=!1}))},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return"timestamp"===e?Object(o["b"])(t[e]):t[e]}))}))},formatPrice:function(e){var t=(e/1).toFixed(2).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},getSortClass:function(e){var t=this.listQuery.sort;return t==="+".concat(e)?"ascending":"descending"}}},f=d,p=(a("bfbf"),a("2877")),h=Object(p["a"])(f,r,i,!1,null,"7eec7347",null);t["default"]=h.exports},d58f:function(e,t,a){var r=a("1c0b"),i=a("7b0b"),n=a("44ad"),o=a("50c4"),s=function(e){return function(t,a,s,l){r(a);var u=i(t),c=n(u),d=o(u.length),f=e?d-1:0,p=e?-1:1;if(s<2)while(1){if(f in c){l=c[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in c&&(l=a(l,c[f],f,u));return l}};e.exports={left:s(!1),right:s(!0)}},dca8:function(e,t,a){var r=a("23e7"),i=a("bb2f"),n=a("d039"),o=a("861d"),s=a("f183").onFreeze,l=Object.freeze,u=n((function(){l(1)}));r({target:"Object",stat:!0,forced:u,sham:!i},{freeze:function(e){return l&&o(e)?l(s(e)):e}})},f183:function(e,t,a){var r=a("d012"),i=a("861d"),n=a("5135"),o=a("9bf2").f,s=a("90e3"),l=a("bb2f"),u=s("meta"),c=0,d=Object.isExtensible||function(){return!0},f=function(e){o(e,u,{value:{objectID:"O"+ ++c,weakData:{}}})},p=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,u)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[u].objectID},h=function(e,t){if(!n(e,u)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[u].weakData},m=function(e){return l&&g.REQUIRED&&d(e)&&!n(e,u)&&f(e),e},g=e.exports={REQUIRED:!1,fastKey:p,getWeakData:h,onFreeze:m};r[u]=!0}}]);