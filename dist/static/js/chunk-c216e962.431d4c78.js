(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c216e962"],{"0ccb":function(e,t,a){var i=a("50c4"),r=a("1148"),n=a("1d80"),o=Math.ceil,l=function(e){return function(t,a,l){var s,d,c=String(n(t)),u=c.length,f=void 0===l?" ":String(l),p=i(a);return p<=u||""==f?c:(s=p-u,d=r.call(f,o(s/f.length)),d.length>s&&(d=d.slice(0,s)),e?c+d:d+c)}};e.exports={start:l(!1),end:l(!0)}},1148:function(e,t,a){"use strict";var i=a("a691"),r=a("1d80");e.exports="".repeat||function(e){var t=String(r(this)),a="",n=i(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(a+=t);return a}},"13d5":function(e,t,a){"use strict";var i=a("23e7"),r=a("d58f").left,n=a("a640"),o=a("ae40"),l=n("reduce"),s=o("reduce",{1:0});i({target:"Array",proto:!0,forced:!l||!s},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"28d3":function(e,t,a){"use strict";var i=a("e5fa"),r=a.n(i);r.a},"408a":function(e,t,a){var i=a("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=i(e))throw TypeError("Incorrect invocation");return+e}},"4d90":function(e,t,a){"use strict";var i=a("23e7"),r=a("0ccb").start,n=a("9a0c");i({target:"String",proto:!0,forced:n},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},8785:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("fb6a"),a("dca8");function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},"9a0c":function(e,t,a){var i=a("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},"9ef3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"-","start-placeholder":"Fecha Inicio","end-placeholder":"Fecha Fin",align:"right","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.listQuery.fechas,callback:function(t){e.$set(e.listQuery,"fechas",t)},expression:"listQuery.fechas"}}),a("el-select",{staticStyle:{width:"500px"},attrs:{multiple:"",filterable:"","collapse-tags":"",placeholder:"Tramites",size:"large"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.listaTramites,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" Search ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:e.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:e.handleDownload}},[e._v(" Export ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"total-container",attrs:{type:"info"}},[e._v(" Total Recaudado $ "+e._s(e.formatPrice(e.total))+" ")])],1),a("el-row",{attrs:{gutter:5}},[a("el-col",[a("el-container",[a("el-main",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.$apollo.loading,expression:"$apollo.loading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.tramites,border:"",fit:"",height:"600","highlight-current-row":""},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{label:"Tipo Tramite","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.Nombre))])]}}])}),a("el-table-column",{attrs:{label:"No iniciado",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.noIniciado))])]}}])}),a("el-table-column",{attrs:{label:"Revisión Juridico",width:"87px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.revisionJuridico))])]}}])}),a("el-table-column",{attrs:{label:"Rev. Jur. Compl.",width:"87px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.revisionJuridicoCompleto))])]}}])}),a("el-table-column",{attrs:{label:"En proceso",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.enProceso))])]}}])}),a("el-table-column",{attrs:{label:"Por firmar",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.porFirmar))])]}}])}),a("el-table-column",{attrs:{label:"Completado",width:"105px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.completado))])]}}])}),a("el-table-column",{attrs:{label:"Pendiente",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.pendiente))])]}}])}),a("el-table-column",{attrs:{label:"Anulado",width:"90px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.anulado))])]}}])}),a("el-table-column",{attrs:{label:"Cantidad",width:"90px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.Total))])]}}])}),a("el-table-column",{attrs:{label:"Total Recaudado",width:"140px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formatPrice(i.totalRecaudado)))])]}}])})],1)],1)],1)],1)],1)],1)},r=[],n=(a("4160"),a("d81d"),a("13d5"),a("b680"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("159b"),a("6724")),o=a("ed08"),l=a("754d"),s=[{key:"CN",display_name:"China"},{key:"US",display_name:"USA"},{key:"JP",display_name:"Japan"},{key:"EU",display_name:"Eurozone"}],d=s.reduce((function(e,t){return e[t.key]=t.display_name,e}),{}),c={name:"ComplexTable",directives:{waves:n["a"]},filters:{statusFilter:function(e){var t={published:"success",draft:"info",deleted:"danger"};return t[e]},typeFilter:function(e){return d[e]}},data:function(){return{tableKey:0,selected:[],totRecaudado:"",tramites:[],rep_tramites:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,importance:void 0,title:"",type:void 0,sort:"",fechas:null},importanceOptions:[1,2,3],calendarTypeOptions:s,listaTramites:[],statusOptions:["published","draft","deleted"],showReviewer:!1,temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},downloadLoading:!1}},methods:{handleFilter:function(){var e=this;null!=this.listQuery.fechas&&(0===this.selected.length&&(this.selected=this.listaTramites.map((function(e){return e.value}))),this.$apollo.query({query:l["h"],variables:{fechaInicio:this.listQuery.fechas[0].toString(),fechaFin:this.listQuery.fechas[1].toString(),tramites:this.selected},error:function(e){this.error=JSON.stringify(e.message)}}).then((function(t){e.tramites=[],e.rep_tramites=t.data.TipoTramite;var a={Nombre:"TOTAL",noIniciado:0,revisionJuridico:0,revisionJuridicoCompleto:0,enProceso:0,porFirmar:0,completado:0,pendiente:0,anulado:0,Total:0,totalRecaudado:0};e.rep_tramites.forEach((function(t){var i={Nombre:t.DscaTipoTramite,noIniciado:null==t.noIniciado.aggregate.sum.Cantidad?0:t.noIniciado.aggregate.sum.Cantidad,revisionJuridico:null==t.revisionJuridico.aggregate.sum.Cantidad?0:t.revisionJuridico.aggregate.sum.Cantidad,revisionJuridicoCompleto:null==t.revisionJuridicoCompleto?0:t.revisionJuridicoCompleto.aggregate.sum.Cantidad,enProceso:null==t.enProceso.aggregate.sum.Cantidad?0:t.enProceso.aggregate.sum.Cantidad,porFirmar:null==t.porFirmar.aggregate.sum.Cantidad?0:t.porFirmar.aggregate.sum.Cantidad,completado:null==t.completado.aggregate.sum.Cantidad?0:t.completado.aggregate.sum.Cantidad,pendiente:null==t.pendiente.aggregate.sum.Cantidad?0:t.pendiente.aggregate.sum.Cantidad,anulado:null==t.anulado.aggregate.sum.Cantidad?0:t.anulado.aggregate.sum.Cantidad,Total:null==t.total.aggregate.sum.Cantidad?0:t.total.aggregate.sum.Cantidad,totalRecaudado:null==t.totalRecaudado.aggregate.sum.Total?0:t.totalRecaudado.aggregate.sum.Total};a.noIniciado+=i.noIniciado,a.revisionJuridico+=i.revisionJuridico,a.revisionJuridicoCompleto+=i.revisionJuridicoCompleto,a.enProceso+=i.enProceso,a.porFirmar+=i.porFirmar,a.completado+=i.completado,a.pendiente+=i.pendiente,a.anulado+=i.anulado,a.Total+=i.Total,a.totalRecaudado+=i.totalRecaudado,e.tramites.push(i)})),e.total=a.totalRecaudado,e.tramites.push(a),e.selected=[]})))},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},sortChange:function(e){var t=e.prop,a=e.order;"id"===t&&this.sortByID(a)},sortByID:function(e){this.listQuery.sort="ascending"===e?"+id":"-id",this.handleFilter()},resetTemp:function(){this.temp={id:void 0,importance:1,remark:"",timestamp:new Date,title:"",status:"published",type:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},handleUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.temp.timestamp=new Date(this.temp.timestamp),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},handleDownload:function(){var e=this;this.downloadLoading=!0,Promise.all([a.e("chunk-12076b3a"),a.e("chunk-2133cd4f")]).then(a.bind(null,"4bf8")).then((function(t){var a=["Tipo Trámite","No iniciado","REV JUR","REV JUR COM","En proceso","Por firmar","Completada","Pendiente","Anulada","Cantidad","Total Recaudado"],i=["Nombre","noIniciado","revisionJuridico","revisionJuridicoCompleto","enProceso","porFirmar","completado","pendiente","anulado","Total","totalRecaudado"],r=e.formatJson(i);t.export_json_to_excel({header:a,data:r,filename:"Reporte-Tramites-Estados"}),e.downloadLoading=!1}))},formatJson:function(e){return this.tramites.map((function(t){return e.map((function(e){return"timestamp"===e?Object(o["b"])(t[e]):t[e]}))}))},formatPrice:function(e){var t=(e/1).toFixed(2).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},getSortClass:function(e){var t=this.listQuery.sort;return t==="+".concat(e)?"ascending":"descending"}},apollo:{listaTramites:{query:l["j"]}}},u=c,f=(a("28d3"),a("2877")),p=Object(f["a"])(u,i,r,!1,null,"27ee91c6",null);t["default"]=p.exports},b680:function(e,t,a){"use strict";var i=a("23e7"),r=a("a691"),n=a("408a"),o=a("1148"),l=a("d039"),s=1..toFixed,d=Math.floor,c=function(e,t,a){return 0===t?a:t%2===1?c(e,t-1,a*e):c(e*e,t/2,a)},u=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},f=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){s.call({})}));i({target:"Number",proto:!0,forced:f},{toFixed:function(e){var t,a,i,l,s=n(this),f=r(e),p=[0,0,0,0,0,0],m="",g="0",h=function(e,t){var a=-1,i=t;while(++a<6)i+=e*p[a],p[a]=i%1e7,i=d(i/1e7)},v=function(e){var t=6,a=0;while(--t>=0)a+=p[t],p[t]=d(a/e),a=a%e*1e7},b=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var a=String(p[e]);t=""===t?a:t+o.call("0",7-a.length)+a}return t};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(m="-",s=-s),s>1e-21)if(t=u(s*c(2,69,1))-69,a=t<0?s*c(2,-t,1):s/c(2,t,1),a*=4503599627370496,t=52-t,t>0){h(0,a),i=f;while(i>=7)h(1e7,0),i-=7;h(c(10,i,1),0),i=t-1;while(i>=23)v(1<<23),i-=23;v(1<<i),h(1,1),v(2),g=b()}else h(0,a),h(1<<-t,0),g=b()+o.call("0",f);return f>0?(l=g.length,g=m+(l<=f?"0."+o.call("0",f-l)+g:g.slice(0,l-f)+"."+g.slice(l-f))):g=m+g,g}})},bb2f:function(e,t,a){var i=a("d039");e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d58f:function(e,t,a){var i=a("1c0b"),r=a("7b0b"),n=a("44ad"),o=a("50c4"),l=function(e){return function(t,a,l,s){i(a);var d=r(t),c=n(d),u=o(d.length),f=e?u-1:0,p=e?-1:1;if(l<2)while(1){if(f in c){s=c[f],f+=p;break}if(f+=p,e?f<0:u<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:u>f;f+=p)f in c&&(s=a(s,c[f],f,d));return s}};e.exports={left:l(!1),right:l(!0)}},dca8:function(e,t,a){var i=a("23e7"),r=a("bb2f"),n=a("d039"),o=a("861d"),l=a("f183").onFreeze,s=Object.freeze,d=n((function(){s(1)}));i({target:"Object",stat:!0,forced:d,sham:!r},{freeze:function(e){return s&&o(e)?s(l(e)):e}})},e5fa:function(e,t,a){},f183:function(e,t,a){var i=a("d012"),r=a("861d"),n=a("5135"),o=a("9bf2").f,l=a("90e3"),s=a("bb2f"),d=l("meta"),c=0,u=Object.isExtensible||function(){return!0},f=function(e){o(e,d,{value:{objectID:"O"+ ++c,weakData:{}}})},p=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,d)){if(!u(e))return"F";if(!t)return"E";f(e)}return e[d].objectID},m=function(e,t){if(!n(e,d)){if(!u(e))return!0;if(!t)return!1;f(e)}return e[d].weakData},g=function(e){return s&&h.REQUIRED&&u(e)&&!n(e,d)&&f(e),e},h=e.exports={REQUIRED:!1,fastKey:p,getWeakData:m,onFreeze:g};i[d]=!0}}]);