(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a52f11e"],{"0ccb":function(e,t,r){var a=r("50c4"),i=r("1148"),n=r("1d80"),o=Math.ceil,s=function(e){return function(t,r,s){var l,c,u=String(n(t)),d=u.length,f=void 0===s?" ":String(s),p=a(r);return p<=d||""==f?u:(l=p-d,c=i.call(f,o(l/f.length)),c.length>l&&(c=c.slice(0,l)),e?u+c:c+u)}};e.exports={start:s(!1),end:s(!0)}},1148:function(e,t,r){"use strict";var a=r("a691"),i=r("1d80");e.exports="".repeat||function(e){var t=String(i(this)),r="",n=a(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r}},"13d5":function(e,t,r){"use strict";var a=r("23e7"),i=r("d58f").left,n=r("a640"),o=r("ae40"),s=n("reduce"),l=o("reduce",{1:0});a({target:"Array",proto:!0,forced:!s||!l},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1faa":function(e,t,r){"use strict";var a=r("69a6"),i=r.n(a);i.a},"408a":function(e,t,r){var a=r("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=a(e))throw TypeError("Incorrect invocation");return+e}},"4d90":function(e,t,r){"use strict";var a=r("23e7"),i=r("0ccb").start,n=r("9a0c");a({target:"String",proto:!0,forced:n},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"69a6":function(e,t,r){},8785:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("fb6a"),r("dca8");function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},"9a0c":function(e,t,r){var a=r("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},a434:function(e,t,r){"use strict";var a=r("23e7"),i=r("23cb"),n=r("a691"),o=r("50c4"),s=r("7b0b"),l=r("65f0"),c=r("8418"),u=r("1dde"),d=r("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var r,a,u,d,f,p,y=s(this),v=o(y.length),w=i(e,v),x=arguments.length;if(0===x?r=a=0:1===x?(r=0,a=v-w):(r=x-2,a=m(h(n(t),0),v-w)),v+r-a>g)throw TypeError(b);for(u=l(y,a),d=0;d<a;d++)f=w+d,f in y&&c(u,d,y[f]);if(u.length=a,r<a){for(d=w;d<v-a;d++)f=d+a,p=d+r,f in y?y[p]=y[f]:delete y[p];for(d=v;d>v-a+r;d--)delete y[d-1]}else if(r>a)for(d=v-a;d>w;d--)f=d+a-1,p=d+r-1,f in y?y[p]=y[f]:delete y[p];for(d=0;d<r;d++)y[d+w]=arguments[d+2];return y.length=v-a+r,u}})},a9e3:function(e,t,r){"use strict";var a=r("83ab"),i=r("da84"),n=r("94ca"),o=r("6eeb"),s=r("5135"),l=r("c6b6"),c=r("7156"),u=r("c04e"),d=r("d039"),f=r("7c73"),p=r("241c").f,h=r("06cf").f,m=r("9bf2").f,g=r("58a8").trim,b="Number",y=i[b],v=y.prototype,w=l(f(v))==b,x=function(e){var t,r,a,i,n,o,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=g(c),t=c.charCodeAt(0),43===t||45===t){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+c}for(n=c.slice(2),o=n.length,s=0;s<o;s++)if(l=n.charCodeAt(s),l<48||l>i)return NaN;return parseInt(n,a)}return+c};if(n(b,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var F,k=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof k&&(w?d((function(){v.valueOf.call(r)})):l(r)!=b)?c(new y(x(t)),r,k):x(t)},_=a?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;_.length>C;C++)s(y,F=_[C])&&!s(k,F)&&m(k,F,h(y,F));k.prototype=v,v.constructor=k,o(i,b,k)}},b680:function(e,t,r){"use strict";var a=r("23e7"),i=r("a691"),n=r("408a"),o=r("1148"),s=r("d039"),l=1..toFixed,c=Math.floor,u=function(e,t,r){return 0===t?r:t%2===1?u(e,t-1,r*e):u(e*e,t/2,r)},d=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},f=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));a({target:"Number",proto:!0,forced:f},{toFixed:function(e){var t,r,a,s,l=n(this),f=i(e),p=[0,0,0,0,0,0],h="",m="0",g=function(e,t){var r=-1,a=t;while(++r<6)a+=e*p[r],p[r]=a%1e7,a=c(a/1e7)},b=function(e){var t=6,r=0;while(--t>=0)r+=p[t],p[t]=c(r/e),r=r%e*1e7},y=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var r=String(p[e]);t=""===t?r:t+o.call("0",7-r.length)+r}return t};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(h="-",l=-l),l>1e-21)if(t=d(l*u(2,69,1))-69,r=t<0?l*u(2,-t,1):l/u(2,t,1),r*=4503599627370496,t=52-t,t>0){g(0,r),a=f;while(a>=7)g(1e7,0),a-=7;g(u(10,a,1),0),a=t-1;while(a>=23)b(1<<23),a-=23;b(1<<a),g(1,1),b(2),m=y()}else g(0,r),g(1<<-t,0),m=y()+o.call("0",f);return f>0?(s=m.length,m=h+(s<=f?"0."+o.call("0",f-s)+m:m.slice(0,s-f)+"."+m.slice(s-f))):m=h+m,m}})},bb2f:function(e,t,r){var a=r("d039");e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d22f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"filter-container"},[r("el-date-picker",{attrs:{type:"datetimerange","range-separator":"-","start-placeholder":"Fecha Inicio","end-placeholder":"Fecha Fin",align:"right","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.listQuery.fechas,callback:function(t){e.$set(e.listQuery,"fechas",t)},expression:"listQuery.fechas"}}),r("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"Nro Comprobante"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}}),r("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"Usuario"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.user,callback:function(t){e.$set(e.listQuery,"user",t)},expression:"listQuery.user"}}),r("el-select",{attrs:{placeholder:"Tipo Reporte"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.repOptions,(function(e){return r("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})})),1),r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" Search ")]),r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"total-container",attrs:{type:"info"}},[e._v(" Total Recaudado $ "+e._s(e.formatPrice(e.total))+" ")])],1),r("div",{staticClass:"table-container"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.rep_comprobantes,border:"",fit:"",height:"550","highlight-current-row":""}},[r("el-table-column",{attrs:{label:"Comprobante",width:"150px",prop:"ProformaFactura.NroFactura",align:"center"}}),r("el-table-column",{attrs:{label:"Fecha-Hora",width:"120px",prop:"ProformaFactura.FacturadoEn",align:"center"}}),r("el-table-column",{attrs:{label:"Cedula",width:"130px",prop:"ProformaFactura.clienteByCliente.CedRuc",align:"center"}}),r("el-table-column",{attrs:{label:"Contribuyente","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.ProformaFactura.clienteByCliente.Nombres))]),r("span",[e._v(e._s(a.ProformaFactura.clienteByCliente.Apellidos))]),r("span",[e._v(e._s(a.ProformaFactura.clienteByCliente.NombreEmpresa))])]}}])}),r("el-table-column",{attrs:{label:"Creado Por","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.ProformaFactura.usuarioByCreadopor.Nombres))]),r("span",[e._v(e._s(a.ProformaFactura.usuarioByCreadopor.Apellidos))])]}}])}),r("el-table-column",{attrs:{label:"Cantidad",width:"90px",prop:"CantidadFactura",align:"center"}}),r("el-table-column",{attrs:{label:"Descuento",width:"100px",prop:"Dscto",align:"center"}}),r("el-table-column",{attrs:{label:"Valor Unitario",width:"120px",prop:"ValorUnitario",align:"center"}}),r("el-table-column",{attrs:{label:"IVA",width:"90px",prop:"Impuesto",align:"center"}}),r("el-table-column",{attrs:{label:"Total",width:"90px",prop:"Total",align:"center"}})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.listQuery.total>0,expression:"listQuery.total>0"}],attrs:{total:e.listQuery.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.handleFilter}})],1)])},i=[],n=(r("d81d"),r("13d5"),r("a434"),r("b680"),r("d3b7"),r("ac1f"),r("25f0"),r("5319"),r("6724")),o=r("ed08"),s=r("754d"),l=r("333d"),c=[{key:"CN",display_name:"China"},{key:"US",display_name:"USA"},{key:"JP",display_name:"Japan"},{key:"EU",display_name:"Eurozone"}],u=c.reduce((function(e,t){return e[t.key]=t.display_name,e}),{}),d={name:"ComplexTable",directives:{waves:n["a"]},components:{Pagination:l["a"]},filters:{statusFilter:function(e){var t={published:"success",draft:"info",deleted:"danger"};return t[e]},typeFilter:function(e){return u[e]}},data:function(){return{selected:"",tableKey:0,rep_comprobantes:[],listLoading:!1,total:0,listQuery:{user:"",total:0,page:1,limit:10,offset:0,title:"",type:void 0,sort:"",fechas:null},importanceOptions:[1,2,3],calendarTypeOptions:c,repOptions:[{label:"Comprobante",key:"NC"},{label:"Nota Crédito",key:"CP"}],statusOptions:["published","draft","deleted"],showReviewer:!1,temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},downloadLoading:!1}},methods:{handleFilter:function(){var e=this;if(null!=this.listQuery.fechas){this.listLoading=!0;var t="%"+this.listQuery.title+"%",r="%"+this.selected+"%",a="%"+this.listQuery.user+"%";this.listQuery.offset=(this.listQuery.page-1)*this.listQuery.limit,this.$apollo.query({query:s["b"],variables:{fechaInicio:this.listQuery.fechas[0],fechaFin:this.listQuery.fechas[1],factura:t,tipo:r,offset:this.listQuery.offset,limit:this.listQuery.limit,usuario:a},error:function(e){this.error=JSON.stringify(e.message)}}).then((function(t){e.total=t.data.ProformaFacturaDetalle_aggregate.aggregate.sum.Total,e.rep_comprobantes=t.data.ProformaFacturaDetalle,e.listQuery.total=t.data.ProformaFacturaDetalle_aggregate.aggregate.Total,e.listLoading=!1}))}},handleModifyStatus:function(e,t){this.$message({message:"操作Success",type:"success"}),e.status=t},sortChange:function(e){var t=e.prop,r=e.order;"id"===t&&this.sortByID(r)},sortByID:function(e){this.listQuery.sort="ascending"===e?"+id":"-id",this.handleFilter()},resetTemp:function(){this.temp={id:void 0,importance:1,remark:"",timestamp:new Date,title:"",status:"published",type:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},handleUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.temp.timestamp=new Date(this.temp.timestamp),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},handleDelete:function(e,t){this.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),this.rep_comprobantes.splice(t,1)},handleDownload:function(){var e=this;this.downloadLoading=!0,Promise.all([r.e("chunk-12076b3a"),r.e("chunk-2133cd4f")]).then(r.bind(null,"4bf8")).then((function(t){var r=["Tipo de trámite","Cantidad","Monto"],a=["DscaTipoTramite","Cantidad","AmountInvoiced"],i=e.formatJson(a);t.export_json_to_excel({header:r,data:i,filename:"Reporte-tramites"}),e.downloadLoading=!1}))},formatJson:function(e){return console.log("hola"),this.rep_comprobantes.map((function(t){return e.map((function(e){return"timestamp"===e?Object(o["b"])(t[e]):t[e]}))}))},formatPrice:function(e){var t=(e/1).toFixed(2).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},getSortClass:function(e){var t=this.listQuery.sort;return t==="+".concat(e)?"ascending":"descending"}}},f=d,p=(r("1faa"),r("2877")),h=Object(p["a"])(f,a,i,!1,null,"1daf0152",null);t["default"]=h.exports},d58f:function(e,t,r){var a=r("1c0b"),i=r("7b0b"),n=r("44ad"),o=r("50c4"),s=function(e){return function(t,r,s,l){a(r);var c=i(t),u=n(c),d=o(c.length),f=e?d-1:0,p=e?-1:1;if(s<2)while(1){if(f in u){l=u[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in u&&(l=r(l,u[f],f,c));return l}};e.exports={left:s(!1),right:s(!0)}},dca8:function(e,t,r){var a=r("23e7"),i=r("bb2f"),n=r("d039"),o=r("861d"),s=r("f183").onFreeze,l=Object.freeze,c=n((function(){l(1)}));a({target:"Object",stat:!0,forced:c,sham:!i},{freeze:function(e){return l&&o(e)?l(s(e)):e}})},f183:function(e,t,r){var a=r("d012"),i=r("861d"),n=r("5135"),o=r("9bf2").f,s=r("90e3"),l=r("bb2f"),c=s("meta"),u=0,d=Object.isExtensible||function(){return!0},f=function(e){o(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},p=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,c)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[c].objectID},h=function(e,t){if(!n(e,c)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[c].weakData},m=function(e){return l&&g.REQUIRED&&d(e)&&!n(e,c)&&f(e),e},g=e.exports={REQUIRED:!1,fastKey:p,getWeakData:h,onFreeze:m};a[c]=!0}}]);